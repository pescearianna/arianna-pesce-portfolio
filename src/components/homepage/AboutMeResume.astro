---
import { Image } from "astro:assets";
import langme from "@/assets/lang-me.png";
import profile from "@/assets/profile.png";
import education from "@/assets/education.png";
import experience from "@/assets/experience.png";
import decoration from "@/assets/decoration-flip.jpg";
const decorationImage = `url(${decoration})`;
import funnyme from "@/assets/lang-me.png";
import { Icon } from "astro-icon/components";
---

<style>
  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 90vh;

    gap: 1rem;
    .menu {
      content: "";
      display: flex;
      padding: 0.5rem 2rem;
      border-radius: 20px;
      legend {
        text-align: center;
        padding: 0 0.5rem;
      }

      button {
        all: unset;
        background-color: var(--fo-color);
        border-radius: 50%;
        margin: 0 1rem;
        font-size: 1.5rem;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 4rem;
        height: 4rem;
        position: relative;
        &::after {
          content: "";
          position: absolute;
          top: 50%;
          left: 100%;
          width: 2rem;
          height: 3px;
          background: var(--fo-color);
          transform: translateY(-50%);
        }

        &:last-child::after {
          display: none;
        }
      }
      .img-step {
        width: 4rem;
        height: 4rem;
        position: absolute;

        opacity: 0;
        pointer-events: none;
        transition:
          opacity 0.3s ease,
          transform 0.3s ease;
      }
      .step-profile:hover {
        background-color: transparent;
      }
      .step-profile:hover .img-profile {
        opacity: 1;
        z-index: 10;
        transform: scale(1.3);
      }
      .step-education:hover {
        background-color: transparent;
      }
      .step-education:hover .img-education {
        opacity: 1;
        z-index: 10;
        transform: scale(1.3);
      }
      .step-experience:hover {
        background-color: transparent;
      }
      .step-experience:hover .img-experience {
        opacity: 1;
        z-index: 10;
        transform: scale(1.3);
      }
    }
    #title {
      font-size: 2rem;
      font-weight: 600;
    } /*
    .aboutme {
      padding: 2rem 4rem;
    }
    #desc {
      width: 80%;
      height: 60vh;
    } */

    .wrap-description {
      height: 100%;

      position: relative;

      .aboutme-text-descr {
        padding: 1rem;
        p {
          font-size: 1.2rem;
          line-height: 1.6; /* Interlinea */
          text-align: center;
        }
      }
    }

    .time-wrap {
      .past {
        width: 100%;
        display: grid;
        grid-template-columns: auto auto;
        gap: 1.3rem;
        .when {
          font-size: 1rem;
          text-decoration: underline;
          text-decoration-color: var(--fo-color);
        }
        .title {
          font-size: 1.2rem;
        }
        .place {
          font-size: 1rem;
          opacity: 0.8;
        }
      }
      .future {
        .card {
          color: var(--bg-color);
          background: var(--th-color);
          border: 10px solid var(--bg-color);
          border-radius: 20px;
          width: 100%;
          height: 100%;
          text-align: center;
          align-items: center;
        }
      }
    }

    @media screen and (min-width: 768px) {
      .container {
        height: 90vh;
      }
      #title {
        font-size: 2rem;
        font-weight: 600;
      }
      .aboutme {
        padding: 2rem 4rem;
      }
      #desc {
       
        height: 60vh;
      }
      /* part about me*/
      .wrap-description {
        .aboutme-text-descr {
          width: 70%;
          position: absolute;
          top: 0;
          right: 50%;
          transform: translateX(50%);
          p {
            margin-bottom: 1rem;
          }
        }
        .pointer {
          display: block;
          position: absolute;
          right: -2%;
          bottom: 0;
          max-height: 300px;
          width: auto;
        }
      }

      /* part education*/
      .time-wrap {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: space-between;
        align-items: self-start;
        margin: 2rem 0;
        .past {
          width: 59%;

          list-style: none;

          margin: 2rem 0;

          .title {
            font-size: 1.3rem;
            font-weight: 600;
          }
        }
        .future {
          height: 100%;
          width: 40%;

          padding: 0 2rem;
          perspective: 1000px;
         
        &:hover .card {
          transform: rotateY(180deg);
          transition: transform 1s;
        }
 .card{
          transition: transform 2s;
          transform-style: preserve-3d;

 
        .front,
        .back {
          position: absolute;
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 2rem 1rem;

          height: 100%;
          width: 100%;

          backface-visibility: hidden;
        }

        .front {
          justify-content: space-evenly;

          h4 {
            color: var(--bg-color);
            text-align: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
          }

          p {
            text-align: center;
            color: var(--bg-color);
          }
          #good-p-title {
            font-size: 1rem;
            text-decoration: underline;
            text-decoration-color: var(--fo-color);
          }
        }
        .back {
          transform: rotateY(180deg);
          justify-content: space-evenly;
          p {
            color: var(--bg-color);
          }
          #good-p-title {
            font-size: 1rem;

            text-decoration-color: var(--fo-color);
          }
          #gp-title {
            text-align: center;
            font-weight: 600;
            font-size: 2rem;
          }
          #good-p-content {
            font-size: 1.3rem;
          }
        }
      }}
    }
    }
  }

  @media screen and (max-width: 768px) {
    /* mobile -part about me*/
    .wrap-description {
      .aboutme-text-descr {
        p {
          margin-bottom: 0.8rem;
        }
      }
      .pointer {
        display: none;
      }
    }
    /* mobile -part education*/
    .time-wrap {
      .past {
        grid-template-columns: 1fr 3fr;
      }
      .future {
        margin: 2rem 0 0;
        .card {
          color: var(--bg-color);
          padding: 1.5rem 1rem;
          .back {
            p {
              color: var(--bg-color);
              margin-bottom: 1rem;
            }
          }
        }
      }
    }
  }

   @media screen and (min-width: 600px) {
    #desc{
      width:90%;
    }
   }

   @media screen and (min-width: 992px ){
    #desc{
      width:80%;
    }
   }
</style>

<div class="container">
  <fieldset class="menu">
    <legend>Know more about me in 3 steps</legend>
    <button class="step step-profile" data-step="0"
      >1<Image class="img-step img-profile" alt="profile" src={profile} />
      <button class="step step-education" data-step="1"
        >2<Image
          class="img-step img-education"
          alt="profile"
          src={education}
        /></button
      >
      <button class="step step-experience" data-step="2"
        >3<Image
          class="img-step img-experience"
          alt="profile"
          src={experience}
        /></button
      >
    </button>
  </fieldset>
  <h3 id="title"></h3>

  <div id="desc"></div>

  <template id="desc-0">
    <div class="wrap-description">
      <div class="aboutme-text-descr">
        <p>
          <strong
            >Aspiring Front-End Developer with a growing passion for UX/UI
            Design.</strong
          >
        </p><p>
          I have just finished my <strong>Full Stack Development</strong> studies.
          I love the Front-End tecnologies and in the future I would like to go deeper
          in my <strong> interest in UX/UI Design field</strong> to understanding
          the user needs and create cleaner, more intuitive and user-friendly app.
        </p><p>
          In the future, I&#39;d love to combine my programming skills with
          UX/UI and work on digital products to <strong
            >make the web a better place.</strong
          > ✨
        </p>
      </div>

      <Image class="pointer" src={funnyme} alt="arianna-pesce-funny" />
    </div>
  </template>

  <template id="desc-1">
    <div class="education time-wrap">
      <div class="past">
        <span class="when">2024 - today</span>
        <div>
          <p class="title">Full Stack Development</p>
          <p class="place">start2impact University</p>
        </div>

        <span class="when">2020</span>
        <div>
          <p class="title">Wine Marketing Specialist</p>
          <p class="place">Pianeta Formazione Srl</p>
        </div>

        <span class="when">2017 - 2019</span>
        <div>
          <p class="title">Bachelor's Degree in Foreign trade</p>
          <p class="place">Ca'Foscari Venice</p>
        </div>
      </div>

      <div class="future">
        <div class="card">
          <div class="front">
            <h4>WHATS NEXT...</h4>
          </div>
          <div class="back">
            <p id="good-p-title">2026 - in progress</p>
            <p id="good-p-content">
              Currently pursuing <strong>UX/UI Design </strong>training to
              expand user-centered design and interface skills.
            </p>
            <p class="place">start2impact University</p>
          </div>
        </div>
      </div>
    </div>
  </template>

  <template id="desc-2">
    <div class="experience time-wrap">
      <div class="past">
        <span class="when">2021 - 2025</span>
        <div>
          <p class="title">Receptionist</p>
          <p class="place">
            Camping Capfun Mirmanda | Barcelona <br />
            Hotel Tui Blue Rocador | Mallorca <br />
            Summer Hostel Càdiz | Càdiz
          </p>
        </div>

        <span class="when">2020</span>
        <div>
          <p class="title">Internship Junior Marketing and E-Commerce</p>
          <p class="place">OFHK Europe Srl | Treviso</p>
        </div>

        <span class="when">2017-2020</span>
        <div>
          <p class="title">Waitress</p>
          <p class="place">Trattoria al Grion | Trebaseleghe</p>
        </div>
      </div>
      <div class="future">
        <div class="card">
          <div class="front">
            <h4>WHATS NEXT...</h4>
          </div>
          <div class="back">
            <p id="good-p-title">2026</p>
            <p id="good-p-content">
              Looking for the <strong>opportunity</strong> to apply my <strong
                >Front-End Developer</strong
              >
              skills and continue learning in a real-world environment.
            </p>
          </div>
        </div>
      </div>
    </div>
  </template>

  <script>
    const buttons = document.querySelectorAll(".step");
    const title = document.getElementById("title");
    const desc = document.getElementById("desc");

    const titles = ["WHO I AM", "EDUCATION", "EXPERIENCE"];

    buttons.forEach((btn) => {
      btn.addEventListener("mouseenter", () => {
        const i = btn.dataset.step;
        title.textContent = titles[i];

        desc.innerHTML = "";
        const tpl = document.getElementById(`desc-${i}`);
        desc.appendChild(tpl.content.cloneNode(true));
      });
    });
  </script>
</div>
